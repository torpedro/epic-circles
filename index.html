<!DOCTYPE html>
<html>
<head>
	<title>Epic Circles</title>

	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
	<script type="text/javascript" src="js/lib/raphael-min.js"></script>
	<script type="text/javascript" src="js/lib/jquery-2.1.1.min.js"></script>
	<script type="text/javascript" src="js/lib/xbase-latest-full.js"></script>
	<script type="text/javascript" src="js/lib/sylvester.js"></script>

	<script type="text/javascript" src="js/geom.js"></script>
	<script type="text/javascript" src="js/canvas.js"></script>
	<script type="text/javascript" src="js/presets.js"></script>

	<script type="text/javascript" src="js/shapes/shape.js"></script>
	<script type="text/javascript" src="js/shapes/point.js"></script>
	<script type="text/javascript" src="js/shapes/line.js"></script>
	<script type="text/javascript" src="js/shapes/polygon.js"></script>
	<script type="text/javascript" src="js/shapes/circle.js"></script>
	<script type="text/javascript" src="js/shapes/segments.js"></script>

	<link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div id="settings">
		<label><input id="cbShowOriginal" type="checkbox" checked /> Show original shapes</label>
		<label><input id="cbShowInverted" type="checkbox" checked /> Show inverted shapes</label>
		<label><input id="cbShowInversionCircles" type="checkbox" checked /> Show inversion circles</label>
		<button id="btnConvertInvertedShapes">Convert Shapes</button>
	</div>
	<div id="contextMenu">
		<div class="contextMenuWrapper">
			<a id="btnSpawnCircle">Spawn Circle</a>
			<a id="btnSpawnLine">Spawn Line</a>
			<a id="btnSpawnRectangle">Spawn Rectangle</a>
			<a id="btnSpawnTriangle">Spawn Triangle</a>
		</div>
	</div>
	<div id="presetLoader"></div>
	<div class="canvas"></div>
	<div class="footer">Find the sources at Github: <a href="https://github.com/torpedro/epic-circles" target="_blank">https://github.com/torpedro/epic-circles</a></div>

<script type="text/javascript">
$(function() {
	canvas = new Canvas();


	// Load the clear preset by default
	var hash = window.location.hash;
	var preset = (hash && PresetLoader.hasPreset(hash.substring(1))) ? hash.substring(1) : 'Clear';
	PresetLoader.load(preset, canvas);



	// Attach to preset loader links
	$.each(PresetLoader.presets, function(key, loader) {
		var link = $('<a href="#' + key + '">' + key + '</a>');
		link.click(function() {
			PresetLoader.load(key, canvas);
		});
		$('#presetLoader').append(link);
	});



	// Attach to checkboxes
	$('#cbShowOriginal').click(function() {
		canvas.setShowOriginalShapes(this.checked);
	});
	canvas.setShowOriginalShapes($('#cbShowOriginal').is(':checked'));

	$('#cbShowInverted').click(function() {
		canvas.setShowInvertedShapes(this.checked);
	});
	canvas.setShowInvertedShapes($('#cbShowInverted').is(':checked'));

	$('#cbShowInversionCircles').click(function() {
		canvas.setShowInversionCircles(this.checked);
	});
	canvas.setShowInversionCircles($('#cbShowInversionCircles').is(':checked'));

	$('#btnConvertInvertedShapes').click(function() {
		canvas.convertInvertedShapes();
	});
});
</script>
</body>
</html>